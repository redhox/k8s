apiVersion: v1
kind: ConfigMap
metadata:
  name: jupyterhub-config
data:
  jupyterhub_config.py: |
    c.JupyterHub.base_url = '/jupyterhub'
    c.JupyterHub.authenticator_class = 'dummy'
    c.DummyAuthenticator.password = "test"  
    c.JupyterHub.admin_users = {'admin'} 
    c.JupyterHub.spawner_class = 'kubespawner.KubeSpawner'
    c.KubeSpawner.image = "jupyter/base-notebook:latest"
    c.Spawner.default_url = '/lab'   
    c.Spawner.http_timeout = 300
    c.Spawner.start_timeout = 300
    c.KubeSpawner.service_account = 'jupyterhub-sa'
    c.KubeSpawner.args = [
        '--NotebookApp.base_url=/jupyterhub/user/{username}',
        '--NotebookApp.token=""',
        '--NotebookApp.password=""'
    ]
    c.KubeSpawner.port = 8888
